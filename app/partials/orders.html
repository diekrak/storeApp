
<div ng-if="dashboard.currentOrder!=null">
    <div class="col-sm-4">
        <div class="portal col">
            <div class="item" ng-repeat="item in dashboard.items"
                 ng-click="dashboard.setEditedItem(item)"
                 ng-class="{'active':dashboard.isCurrentItem(item.id)}">

                <button type="button" class="close" ng-click="dashboard.deleteItem(item.id)">&times;</button>
                <h3>{{item.name}}</h3>

                <p><strong>{{item.description}}</strong></p>
            </div>
        </div>
    </div>
    <div class="col-sm-8">
        <!-- CREATING -->
        <div ng-if="!dashboard.isEditing" class="col-xs-12">
            <h4>Agregar a mi pedido</h4>
            <hr/>
            <form class="create-form" role="form"
                  ng-submit="dashboard.createItem(dashboard.newItem)" novalidate>
                <div class="form-group">
                    <label>Producto:</label>
                    <input type="text" class="form-control"
                           ng-model="dashboard.newItem.name"
                           placeholder="Enter name">
                </div>
                <button type="submit" class="btn btn-info btn-lg">Crear</button>
            </form>
        </div>
        <!-- EDITING -->
        <div ng-if="dashboard.isEditing" class="col-xs-12">
            <h4>Editar {{dashboard.editedItem.name}}</h4>
            <hr/>
            <form class="edit-form" role="form"
                  ng-submit="dashboard.updateItem(dashboard.editedItem)" novalidate>
                <div class="form-group">
                    <label>Producto:</label>
                    <input type="text" class="form-control"
                           ng-model="dashboard.editedItem.name"
                           placeholder="Enter name">
                </div>
                <button type="submit" class="btn btn-info btn-lg">Guardar</button>
                <button type="button" class="btn btn-default btn-lg pull-right"
                        ng-click="dashboard.cancelEditing()">Cancelar
                </button>
            </form>
        </div>
        <div>
            <form class="edit-form" role="form"
                  ng-submit="dashboard.endOrder()" novalidate>
                <button type="submit" class="btn btn-info btn-lg">Finalizar Pedido</button>
            </form>
        </div>
    </div>

</div>
<div ng-if="dashboard.currentOrder==null">
    <h4>Actualmente no tiene ningun predido en proceso. Presione crear nuevo pedido para inciar.</h4>
    <form class="edit-form" role="form"
          ng-submit="dashboard.createOrder()" novalidate>
        <button type="submit" class="btn btn-info btn-lg">Iniciar su pedido</button>
    </form>

</div>